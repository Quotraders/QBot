# Sample env (safe defaults). Copy to .env.local and edit as needed.
# Do NOT commit real tokens or secrets.

# --- endpoints ---
TOPSTEPX_API_BASE=https://api.topstepx.com
TOPSTEPX_RTC_BASE=https://rtc.topstepx.com
RTC_USER_HUB=https://rtc.topstepx.com/hubs/user
RTC_MARKET_HUB=https://rtc.topstepx.com/hubs/market

# --- CRITICAL: Authentication & Account (Required for Production) ---
# TOPSTEPX_API_KEY=your_api_key_here
# TOPSTEPX_USERNAME=your_username_here  
# TOPSTEPX_ACCOUNT_ID=your_account_id_here
# TOPSTEPX_JWT=your_jwt_token_here

# --- modes & guardrails ---
BOT_MODE=paper
AUTO_GO_LIVE=false
AUTO_STICKY_LIVE=false
AUTO_MIN_HEALTHY_PASSES=3
SKIP_MODE_PROMPT=1
ASPNETCORE_URLS=https://localhost:5050

# --- spread allowances (session-aware defaults) ---
SPREAD_ALLOW_ES_RTH=2
SPREAD_ALLOW_ES_ETH=3
SPREAD_ALLOW_NQ_RTH=3
SPREAD_ALLOW_NQ_ETH=4

# --- live-only gates (bypass in backtests) ---
BT_IGNORE_SPREAD=1
BT_IGNORE_NEWS=1
BT_IGNORE_QUOTE_FREEZE=1
QUOTE_MAX_AGE_MS=3000

# --- bandit/learner cadence ---
BANDIT_ENABLE=1
CANARY_ENABLE=1
BANDIT_ALLOW_LIVE=0
BANDIT_LOOP_MIN=15
BANDIT_TTL_HOURS=4
RUN_LEARNING=1
INSTANT_ALLOW_LIVE=0
LEARN_LOOKBACK_DAYS=7
LEARN_TTL_DAYS=1

# --- quality-first toggles (for backtests/PAPER) ---
SKIP_TIME_WINDOWS=1
SKIP_ATTEMPT_CAPS=1

# --- risk caps ---
DAILY_LOSS_CAP_R=3.0
PER_TRADE_R=1.0
MAX_CONCURRENT=1
SLIPPAGE_TICKS_WARN=2

# --- CRITICAL SYSTEM SETTINGS ---
# Enable/disable critical trading system components
CRITICAL_SYSTEM_ENABLE=1
EXECUTION_VERIFICATION_ENABLE=1
DISASTER_RECOVERY_ENABLE=1
CORRELATION_PROTECTION_ENABLE=1

# Risk thresholds for correlation protection
MAX_CORRELATION_EXPOSURE=0.7
ES_NQ_MAX_COMBINED_EXPOSURE=5000

# Execution verification settings
EXECUTION_TIMEOUT_SECONDS=10
MAX_SLIPPAGE_TICKS=2

# Disaster recovery settings
STATE_PERSISTENCE_INTERVAL_MS=100
EMERGENCY_LIQUIDATION_THRESHOLD_MINUTES=1

# --- ALERT SYSTEM CONFIGURATION ---
# Email alerting (SMTP configuration)
ALERT_EMAIL_SMTP=smtp.gmail.com:587
ALERT_EMAIL_FROM=your-email@example.com
ALERT_EMAIL_TO=alerts@your-company.com

# Slack alerting (webhook URL)
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Alert thresholds for monitoring
ALERT_CONFIDENCE_DRIFT_THRESHOLD=0.15
ALERT_BRIER_SCORE_THRESHOLD=0.3
ALERT_DECISION_LATENCY_THRESHOLD_MS=5000
ALERT_ORDER_LATENCY_THRESHOLD_MS=2000
ALERT_CONSECUTIVE_THRESHOLD_COUNT=3
