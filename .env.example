# ===================================
# ENVIRONMENT CONFIGURATION TEMPLATE
# ===================================
# Copy this file to .env and fill in your actual values
# NEVER commit the actual .env file with real credentials

# ===================================
# ZONE AWARENESS CONFIGURATION
# ===================================
# Hybrid zone provider mode: legacy, modern, or hybrid
ZONES_MODE=hybrid
# Zone data time-to-live in seconds (5 minutes = 300)
ZONES_TTL_SEC=300
# Agreement threshold in ticks (2 ticks = 0.5 points for ES)
ZONES_AGREE_TICKS=2.0
# Fail closed when zones disagree (1=true, 0=false)
ZONES_FAIL_CLOSED=1

# ===================================
# GITHUB CLOUD LEARNING & RL
# ===================================
CLOUD_PROVIDER=github
RL_ENABLED=1
GITHUB_CLOUD_LEARNING=1

# ===================================
# TRADING MODE CONFIGURATION
# ===================================
PAPER_MODE=1
TRADING_MODE=PAPER
DEMO_MODE=0
SKIP_LIVE_CONNECTION=0
ENABLE_TOPSTEPX=1
AUTH_ALLOW=1
DASHBOARD_PORT=5050

# ===================================
# TOPSTEPX API CREDENTIALS
# ===================================
TOPSTEPX_API_BASE=https://api.topstepx.com
TOPSTEPX_RTC_BASE=https://rtc.topstepx.com
RTC_USER_HUB=https://rtc.topstepx.com/hubs/user
RTC_MARKET_HUB=https://rtc.topstepx.com/hubs/market

# TopstepX Authentication - FILL IN YOUR ACTUAL VALUES
TOPSTEPX_API_KEY=your_api_key_here
TOPSTEPX_USERNAME=your_username_here
TOPSTEPX_JWT=your_jwt_token_here
TOPSTEPX_ACCOUNT_ID=your_account_id_here

# ===================================
# GITHUB API CONFIGURATION
# ===================================
GITHUB_TOKEN=your_github_token_here
GITHUB_OWNER=your_github_owner
GITHUB_REPO=your_repo_name
GITHUB_API_BASE=https://api.github.com

# ===================================
# GMAIL SMTP ALERT CONFIGURATION
# ===================================
# Gmail SMTP settings for production alerts
ALERT_EMAIL_SMTP=smtp.gmail.com
ALERT_EMAIL_PORT=587
ALERT_EMAIL_USE_TLS=true
ALERT_EMAIL_USERNAME=your_email@gmail.com
ALERT_EMAIL_PASSWORD=your_app_password_here
ALERT_EMAIL_FROM=your_email@gmail.com
ALERT_EMAIL_TO=your_email@gmail.com

# ===================================
# SLACK ALERT CONFIGURATION (OPTIONAL)
# ===================================
# ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# ===================================
# ALERT THRESHOLDS & MONITORING
# ===================================
ALERT_CONFIDENCE_DRIFT_THRESHOLD=0.15
ALERT_BRIER_SCORE_THRESHOLD=0.3

# ===================================
# AUTONOMOUS TRADING CONFIGURATION
# ===================================
AUTONOMOUS_MODE=false
AUTO_EXECUTION=false
AUTO_STRATEGY_SELECTION=true
AUTO_POSITION_SIZING=true
AUTO_RISK_ADJUSTMENT=true
AUTO_PROFIT_TAKING=true
AUTO_LOSS_MANAGEMENT=true
CONTINUOUS_LEARNING=true
TRADE_DURING_LUNCH=false
TRADE_OVERNIGHT=false
TRADE_PREMARKET=false
MAX_CONTRACTS_PER_TRADE=5
DAILY_PROFIT_TARGET=300
MAX_DAILY_LOSS=-1000
MAX_DRAWDOWN=-2000

# ===================================
# TOPSTEP COMPLIANCE SETTINGS
# ===================================
TOPSTEP_DAILY_LOSS_LIMIT=-2400
TOPSTEP_SAFE_DAILY_LOSS_LIMIT=-1000
TOPSTEP_DRAWDOWN_LIMIT=-2500
TOPSTEP_SAFE_DRAWDOWN_LIMIT=-2000
TOPSTEP_MINIMUM_TRADING_DAYS=5
TOPSTEP_PROFIT_TARGET=3000
ENABLE_TOPSTEP_COMPLIANCE=true
ENABLE_AUTOMATIC_HALTS=true

# ===================================
# TRADING BOT CONFIGURATION
# ===================================
BOT_MODE=paper
AUTO_GO_LIVE=false
AUTO_STICKY_LIVE=false
SKIP_MODE_PROMPT=1
ASPNETCORE_URLS=https://localhost:5050

# ===================================
# RISK MANAGEMENT
# ===================================
DAILY_LOSS_CAP_R=3.0
PER_TRADE_R=1.0
MAX_CONCURRENT=1
SLIPPAGE_TICKS_WARN=2

# ===================================
# CRITICAL SYSTEM SETTINGS
# ===================================
CRITICAL_SYSTEM_ENABLE=1
EXECUTION_VERIFICATION_ENABLE=1
DISASTER_RECOVERY_ENABLE=1
CORRELATION_PROTECTION_ENABLE=1

# SDK Adapter Configuration
PROJECT_X_API_KEY=your_project_x_api_key_here
PROJECT_X_USERNAME=your_project_x_username_here

# Risk Management (centralized in RiskDefaults.cs)
TRADING_ENVIRONMENT=DEVELOPMENT
MAX_DAILY_LOSS_OVERRIDE=
MAX_POSITION_SIZE_OVERRIDE=

# ML/RL Configuration
ML_MODEL_UPDATE_INTERVAL_HOURS=24
UCB_MIN_DECISIONS_BEFORE_LIVE=100
UCB_CONFIDENCE_THRESHOLD=0.65

# SDK Bridge Configuration
SDK_BRIDGE_TIMEOUT_SECONDS=30
SDK_BRIDGE_MAX_RETRIES=3

# ===================================
# RL RUNTIME MODE (PRODUCTION SAFETY)
# ===================================
# Controls whether reinforcement learning training is allowed
# InferenceOnly = Production default, no training (safe)
# CollectOnly = Collect experiences but don't train (data gathering)
# Train = Full training allowed (development and CI only)
RlRuntimeMode=InferenceOnly

# ===================================
# HISTORICAL LEARNING (CONTINUOUS IMPROVEMENT)
# ===================================
# Enable historical backtest learning that runs in production
# When enabled: bot replays past market data every 15-60 minutes
# Uses SAME UnifiedTradingBrain as live trading for consistent learning
# Market OPEN: learns every 60 minutes (light, doesn't slow down live trading)
# Market CLOSED: learns every 15 minutes (intensive, full training)
ENABLE_HISTORICAL_LEARNING=1

# ===================================
# GATE 5: LIVE FIRST-HOUR AUTO-ROLLBACK
# ===================================
# Canary validation settings for new parameter rollout
# Monitors live parameter performance and triggers automatic rollback if degradation detected
GATE5_ENABLED=1
GATE5_MIN_TRADES=30
GATE5_MIN_MINUTES=45
GATE5_MAX_MINUTES=90
GATE5_WIN_RATE_DROP_THRESHOLD=0.15
GATE5_MAX_DRAWDOWN_DOLLARS=500.0
GATE5_SHARPE_DROP_THRESHOLD=0.30
GATE5_CATASTROPHIC_WIN_RATE=0.30
GATE5_CATASTROPHIC_DRAWDOWN=1000.0

# ===================================
# BOT INTELLIGENCE & SELF-IMPROVEMENT
# ===================================
# AI-powered conversational trading bot capabilities
# Enables the bot to analyze its own performance and suggest improvements

# Bot Intelligence System
OLLAMA_ENABLED=true
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=gemma2:2b

# Bot Features
BOT_THINKING_ENABLED=true
BOT_REFLECTION_ENABLED=true
BOT_NEWS_ANALYSIS_ENABLED=true
BOT_SELF_IMPROVEMENT_ENABLED=true
SELF_IMPROVEMENT_ENABLED=true
BOT_CHAT_ENABLED=true
BOT_LEARNING_MODE=active

# Proactive Bot Alerts (Phase 3)
BOT_ALERTS_ENABLED=true
BOT_ALERT_STARTUP_HEALTH=true
BOT_ALERT_VIX_SPIKE=true
BOT_ALERT_VIX_SPIKE_THRESHOLD=1.3
BOT_ALERT_UPCOMING_EVENTS=true
BOT_ALERT_EVENT_MINUTES_BEFORE=30
BOT_ALERT_ROLLBACK=true
BOT_ALERT_LOW_WIN_RATE=true
BOT_ALERT_WIN_RATE_THRESHOLD=0.60
BOT_ALERT_DAILY_TARGET=true
BOT_ALERT_FEATURE_DISABLED=true
BOT_ALERT_SYSTEM_HEALTH=true
BOT_ALERT_SYSTEM_HEALTH_INTERVAL_HOURS=1
