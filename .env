# ===================================
# CONSOLIDATED ENVIRONMENT CONFIGURATION
# ===================================
# This file contains ALL bot credentials and configuration
# KEEP THIS FILE SECURE - DO NOT COMMIT TO VERSION CONTROL

# ===================================
# GITHUB CLOUD LEARNING & RL
# ===================================
CLOUD_PROVIDER=github
RL_ENABLED=1
GITHUB_CLOUD_LEARNING=1

# ===================================
# AUTO-LEARNING & PROMOTION CONFIG
# ===================================
AUTO_PROMOTION_ENABLED=1
AUTO_LEARNING_ENABLED=1
CHALLENGER_AUTO_APPROVE=1
REQUIRE_MANUAL_PROMOTION=0
MIN_SHADOW_TEST_TRADES=50
MIN_SHADOW_TEST_SESSIONS=5
PROMOTION_CONFIDENCE_THRESHOLD=0.65
ROLLBACK_ON_PERFORMANCE_DECLINE=1

# ===================================
# TRADING MODE CONFIGURATION
# ===================================
# DRY_RUN=1: Use real live market data but simulate trades (paper trading)
# DRY_RUN=0: Execute real trades with live market data (⚠️ REAL MONEY AT RISK ⚠️)
DRY_RUN=1
SKIP_LIVE_CONNECTION=0
ENABLE_TOPSTEPX=1
AUTH_ALLOW=1

# ===================================
# TOPSTEPX API CREDENTIALS
# ===================================
TOPSTEPX_API_BASE=https://api.topstepx.com
TOPSTEPX_RTC_BASE=https://rtc.topstepx.com
RTC_USER_HUB=https://rtc.topstepx.com/hubs/user
RTC_MARKET_HUB=https://rtc.topstepx.com/hubs/market

# TopstepX Adapter Mode - PERSISTENT mode avoids opening HTTP ports
TOPSTEPX_ADAPTER_MODE=persistent

# TopstepX Authentication - WORKING CREDENTIALS ✅
TOPSTEPX_API_KEY=J3pePdNU/mvmoRGTygBcNtKbRvL/wSNZ3pFOKCdIy34=
TOPSTEPX_USERNAME=kevinsuero072897@gmail.com
TOPSTEPX_ACCOUNT_ID=297693

# Python Configuration
PYTHON_EXECUTABLE=C:\Users\kevin\AppData\Local\Programs\Python\Python312\python.exe
TOPSTEPX_ACCOUNT_NAME=PRAC-V2-297693-73603697

# Python SDK Environment Variables (used by project-x-py SDK)
PROJECT_X_API_KEY=J3pePdNU/mvmoRGTygBcNtKbRvL/wSNZ3pFOKCdIy34=
PROJECT_X_USERNAME=kevinsuero072897@gmail.com
PROJECT_X_ACCOUNT_NAME=PRAC-V2-297693-73603697

# ===================================
# TOPSTEPX WEBSOCKET SSL WORKAROUND
# ===================================
# Temporary fix for Windows subprocess SSL/TLS certificate verification issue
# WARNING: This disables SSL verification - use only for testing/development
# For production, use HTTP/REST polling or contact TopstepX support
PYTHONHTTPSVERIFY=0
SSL_CERT_FILE=
REQUESTS_CA_BUNDLE=

# Python Execution Environment (Platform-Specific Configuration)
# ============================================================
# IMPORTANT: Set based on your operating system
# 
# For Linux/macOS/GitHub Actions:
#   PYTHON_EXECUTABLE=python3
# 
# For Windows with WSL (Windows Subsystem for Linux):
#   PYTHON_EXECUTABLE=wsl
# 
# Current setting (Codespace - using full path to ensure SDK is found):
# PYTHON_EXECUTABLE=python3  # <-- OLD setting, commented out

# ===================================
# ECONOMIC CALENDAR (FOREXFACTORY)
# ===================================
# Economic Calendar: ForexFactory JSON file (free, manually updated monthly)
# File location: datasets/economic_calendar/calendar.json
# Contains FOMC, NFP, CPI, GDP dates (update once per month)
# NO API KEY REQUIRED - Just edit JSON file with upcoming events
ECONOMIC_DATA_SOURCE=forexfactory

# ===================================
# REAL-TIME NEWS MONITORING (NEWSAPI.ORG)
# ===================================
# NewsAPI.org integration for faster breaking news detection
# Free tier: 100 requests/day (https://newsapi.org/register)
# Bot polls every 5 minutes during market hours (60 requests/day)
# THIS IS OPTIONAL - Bot works without it (uses GitHub workflows instead)
NEWSAPI_KEY=b14bc928c6484a279cf8cc6374108088
NEWSAPI_POLL_INTERVAL_MINUTES=5
NEWSAPI_MAX_ARTICLES=20
NEWSAPI_RECENCY_MINUTES=60
NEWSAPI_KEYWORDS=FOMC,Federal Reserve,Powell,rate cut,rate hike,emergency meeting,Trump tariff,S&P 500,Nasdaq,inflation shock,CPI surprise,recession,market crash

# ===================================
# FRED API (Federal Reserve Economic Data)
# ===================================
# Free access to Fed balance sheet data (https://fred.stlouisfed.org)
FRED_API_KEY=d688f45598966fdcfb5b76c1f3f3bde1

# TOPSTEPX_JWT will be set automatically after authentication - never set manually

# Contract IDs for evaluation - ES and NQ only (Z25 = December 2025)
TOPSTEPX_EVAL_ES_ID=CON.F.US.EP.Z25
TOPSTEPX_EVAL_NQ_ID=CON.F.US.ENQ.Z25

# GITHUB API CONFIGURATION
GITHUB_TOKEN=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
GITHUB_OWNER=c-trading-bo
GITHUB_REPO=trading-bot-c-
GITHUB_API_BASE=https://api.github.com

# Security Settings
MAX_API_CALLS_PER_HOUR=5000
RATE_LIMIT_BUFFER=100

# ===================================
# AI/COPILOT CONFIGURATION
# ===================================
AI_MODEL=gpt-4-turbo
AI_TEMPERATURE=0.2
AUTO_FIX_CONFIDENCE=0.85
CREATE_PR_CONFIDENCE=0.60
COPILOT_ENTERPRISE=true
UNLIMITED_REQUESTS=true
PRIORITY_PROCESSING=true

# ===================================
# TRADING BOT MODES & GUARDRAILS
# ===================================
BOT_MODE=live
AUTO_GO_LIVE=true
AUTO_STICKY_LIVE=false
AUTO_MIN_HEALTHY_PASSES=3
SKIP_MODE_PROMPT=1

# Auto-execution settings (only applies when DRY_RUN=0)
ENABLE_AUTO_EXECUTION=true
ENABLE_LIVE_CONNECTION=true
FORCE_TOPSTEPX_CONNECTION=true

# ===================================
# SPREAD ALLOWANCES (SESSION-AWARE)
# ===================================
SPREAD_ALLOW_ES_RTH=2
SPREAD_ALLOW_ES_ETH=3
SPREAD_ALLOW_NQ_RTH=3
SPREAD_ALLOW_NQ_ETH=4

# ===================================
# LIVE-ONLY GATES (BYPASS IN BACKTESTS)
# ===================================
BT_IGNORE_SPREAD=1
BT_IGNORE_NEWS=1
BT_IGNORE_QUOTE_FREEZE=1
QUOTE_MAX_AGE_MS=3000

# ===================================
# NEWS BIAS TUNING PARAMETERS
# ===================================
# Control how much news influences trading decisions
NEWS_BOOST_MULTIPLIER=0.10        # Max probability boost when news agrees (10%)
NEWS_REDUCTION_MULTIPLIER=0.15    # Max probability reduction when news conflicts (15%)
NEWS_OVERRIDE_THRESHOLD=0.80      # Minimum bias strength to override model (0.8 = 80%)
NEWS_POSITION_MULTIPLIER_MIN=0.85 # Min position size multiplier (high vol breaking news)
NEWS_POSITION_MULTIPLIER_MAX=1.05 # Max position size multiplier (normal vol breaking news)

# ===================================
# BANDIT/LEARNER CADENCE
# ===================================
BANDIT_ENABLE=1
CANARY_ENABLE=1
BANDIT_ALLOW_LIVE=0
BANDIT_LOOP_MIN=15
BANDIT_TTL_HOURS=4
RUN_LEARNING=1
INSTANT_ALLOW_LIVE=0
LEARN_LOOKBACK_DAYS=7
LEARN_TTL_DAYS=1

# ===================================
# QUALITY-FIRST TOGGLES
# ===================================
SKIP_TIME_WINDOWS=1
SKIP_ATTEMPT_CAPS=1

# ===================================
# RISK MANAGEMENT
# ===================================
DAILY_LOSS_CAP_R=3.0
PER_TRADE_R=1.0
MAX_CONCURRENT=1
SLIPPAGE_TICKS_WARN=2

# ===================================
# CRITICAL SYSTEM SETTINGS
# ===================================
CRITICAL_SYSTEM_ENABLE=1
EXECUTION_VERIFICATION_ENABLE=1
DISASTER_RECOVERY_ENABLE=1
CORRELATION_PROTECTION_ENABLE=1

# Risk thresholds for correlation protection
MAX_CORRELATION_EXPOSURE=0.7
ES_NQ_MAX_COMBINED_EXPOSURE=5000

# Execution verification settings
EXECUTION_TIMEOUT_SECONDS=10
MAX_SLIPPAGE_TICKS=2

# Disaster recovery settings
STATE_PERSISTENCE_INTERVAL_MS=100
EMERGENCY_LIQUIDATION_THRESHOLD_MINUTES=1

# ===================================
# GMAIL SMTP ALERT CONFIGURATION
# ===================================
# Gmail SMTP settings for production alerts - SECURITY: Set via environment variables only
ALERT_EMAIL_SMTP=smtp.gmail.com
ALERT_EMAIL_PORT=587
ALERT_EMAIL_USE_TLS=true
# These must be set in your secure environment configuration:
# export ALERT_EMAIL_USERNAME="your_email@gmail.com"
# export ALERT_EMAIL_PASSWORD="your_app_specific_password"
# export ALERT_EMAIL_FROM="your_email@gmail.com"
# export ALERT_EMAIL_TO="alerts@yourcompany.com"

# ===================================
# SLACK ALERT CONFIGURATION (OPTIONAL) - SECURITY: Set via secure environment variables only
# export ALERT_SLACK_WEBHOOK="https://hooks.slack.com/services/YOUR/ACTUAL/WEBHOOK"

# ===================================
# ALERT THRESHOLDS & MONITORING
# ===================================
# Model health thresholds
ALERT_CONFIDENCE_DRIFT_THRESHOLD=0.15
ALERT_BRIER_SCORE_THRESHOLD=0.3

# Performance monitoring thresholds
ALERT_DECISION_LATENCY_THRESHOLD_MS=5000
ALERT_ORDER_LATENCY_THRESHOLD_MS=2000
ALERT_CONSECUTIVE_THRESHOLD_COUNT=3

# ===================================
# PATH CONFIGURATION
# ===================================
PATH=/snap/bin:/home/runner/.local/bin

# ===================================
# AUTONOMOUS RESOURCE MANAGEMENT
# ===================================
LEARNING_RESOURCE_LIMIT_ENABLED=true
LEARNING_CPU_LIMIT_PERCENT=50
LEARNING_MEMORY_LIMIT_MB=2048
RESOURCE_MONITORING_ENABLED=true

# ===================================
# DEVICE TRUST & AUTONOMOUS FEATURES
# ===================================
DEVICE_TRUST_ENABLED=true
TRUSTED_DEVICE_ID=kevin-workstation-primary
AUTONOMOUS_DEVICE_LOCK=true

# ===================================
# ENABLED STRATEGIES (ACTIVE PRODUCTION)
# ===================================
ENABLED_STRATEGIES=S2,S3,S6,S11
S7_GATE_ENABLED=true

# ===================================
# S15 RL STRATEGY - SHADOW-ONLY MODE
# ===================================
S15_TRADING_ENABLED=0
S15_SHADOW_LEARNING_ENABLED=1

# Gate 3: S15 Shadow Learning Thresholds
S15_MIN_SHADOW_DECISIONS=1000
S15_MIN_SHARPE_RATIO=2.0
S15_MIN_WIN_RATE=0.50
S15_MIN_SHARPE_MULTIPLIER=1.20
S15_BOOTSTRAP_P_VALUE_THRESHOLD=0.05

# Gate 2: Cloud Model Download Validation
CLOUD_MODEL_ENDPOINT=https://api.github.com/repos/c-trading-bo/trading-bot-c-/actions/artifacts
CLOUD_MODEL_MIN_VALIDATION_SAMPLES=500
CLOUD_MODEL_MAX_KL_DIVERGENCE=0.25
CLOUD_MODEL_MIN_LOSS_IMPROVEMENT=0.05
CLOUD_MODEL_MIN_SHARPE_IMPROVEMENT=0.03

# Gate 1: Parameter Optimization Validation
PARAM_OPT_MIN_TRADES=200
PARAM_OPT_WIN_RATE_IMPROVEMENT=0.02
PARAM_OPT_SHARPE_IMPROVEMENT=0.10
PARAM_OPT_BOOTSTRAP_P_VALUE=0.05

# Gate 4: UnifiedTradingBrain Model Reload Safety
GATE4_SANITY_TEST_VECTORS=200
GATE4_MAX_TOTAL_VARIATION=0.20
GATE4_MAX_KL_DIVERGENCE=0.25
GATE4_FAIL_ON_NAN_INFINITY=true

# ===================================
# ENHANCED LEARNING & ML/RL SETTINGS
# ===================================
ML_MODEL_UPDATE_INTERVAL_HOURS=6
UCB_MIN_DECISIONS_BEFORE_LIVE=400
UCB_CONFIDENCE_THRESHOLD=0.75

# Live trading controls (manual activation required)
LIVE_ORDERS=0

# Auto-promotion for models (enabled - not the same as live trading)
PROMOTE_TUNER=1
CI_BACKTEST_GREEN=1
AUTO_DISABLE_ON_ROLLBACK=true

# Auto-learning features (enabled by default for production)
ENHANCED_LEARNING_ENABLED=1
ADAPTIVE_INTELLIGENCE_ENABLED=1
CANARY_WATCHDOG_ENABLED=1
MODEL_REGISTRY_ENABLED=1

# ===================================
# RL RUNTIME MODE (PRODUCTION SAFETY)
# ===================================
# Controls whether reinforcement learning training is allowed
# InferenceOnly = Production default, no training (safe)
# CollectOnly = Collect experiences but don't train (data gathering)
# Train = Full training allowed (development and CI only)
# CHANGED TO Train MODE: Enables EnhancedBacktestLearningService for continuous learning
# Combined with weekly parameter optimization for multiplicative improvements
RlRuntimeMode=Train

# ===================================
# HISTORICAL LEARNING (CONTINUOUS IMPROVEMENT)
# ===================================
# Enable historical backtest learning that runs in production
# When enabled: bot replays past market data every 15-60 minutes
# Uses SAME UnifiedTradingBrain as live trading for consistent learning
# Market OPEN: learns every 60 minutes (light, doesn't slow down live trading)
# Market CLOSED: learns every 15 minutes (intensive, full training)
ENABLE_HISTORICAL_LEARNING=1
# Gate 5: Live First-Hour Auto-Rollback Monitoring
GATE5_ENABLED=1
GATE5_MIN_TRADES=30
GATE5_MIN_MINUTES=45
GATE5_MAX_MINUTES=90
GATE5_WIN_RATE_DROP_THRESHOLD=0.15
GATE5_MAX_DRAWDOWN_DOLLARS=500.0
GATE5_SHARPE_DROP_THRESHOLD=0.30
GATE5_CATASTROPHIC_WIN_RATE=0.30
GATE5_CATASTROPHIC_DRAWDOWN=1000.0

# Gate 4: Model Reload Safety (additional config)
GATE4_MIN_PROBABILITY=1e-10
GATE4_SIMULATION_BARS=5000
GATE4_MAX_DRAWDOWN_MULTIPLIER=2.0

# ===================================
# BOT INTELLIGENCE & SELF-IMPROVEMENT
# ===================================
# AI-powered conversational trading bot capabilities
# Enables the bot to analyze its own performance and suggest improvements

# Bot Intelligence System
OLLAMA_ENABLED=true
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=gemma2:2b

# Bot Features
BOT_THINKING_ENABLED=true
BOT_REFLECTION_ENABLED=true
BOT_NEWS_ANALYSIS_ENABLED=true
BOT_SELF_IMPROVEMENT_ENABLED=true
SELF_IMPROVEMENT_ENABLED=true
BOT_CHAT_ENABLED=true
BOT_LEARNING_MODE=active

# News Influence Configuration (Tunable without recompiling)
NEWS_BOOST_MULTIPLIER=0.10           # Max probability boost when news agrees (10%)
NEWS_REDUCTION_MULTIPLIER=0.15       # Max probability reduction when news conflicts (15%)
NEWS_OVERRIDE_THRESHOLD=0.80         # Minimum bias (0-1) required to override model
NEWS_POSITION_MULTIPLIER_MIN=0.85    # Min position size adjustment (breaking news + high vol)
NEWS_POSITION_MULTIPLIER_MAX=1.05    # Max position size adjustment (breaking news + normal vol)

# Proactive Bot Alerts (Phase 3)
BOT_ALERTS_ENABLED=true
BOT_ALERT_VIX_SPIKE_THRESHOLD=1.30
BOT_ALERT_WIN_RATE_THRESHOLD=60
BOT_ALERT_DRAWDOWN_THRESHOLD=500
BOT_DAILY_PROFIT_TARGET=500
BOT_MONITOR_STARTUP=true
BOT_MONITOR_VIX=true
BOT_MONITOR_CALENDAR=true
BOT_MONITOR_PERFORMANCE=true
BOT_MONITOR_SYSTEM_HEALTH=true

# ===================================
# PHASE 2: CALENDAR CONNECTION
# ===================================
# Economic calendar protection - blocks trades before high-impact events
BOT_CALENDAR_CHECK_ENABLED=true
BOT_CALENDAR_WARNING_MINUTES=30
BOT_CALENDAR_BLOCK_MINUTES=10
BOT_CALENDAR_AUTO_FLATTEN=true

# ===================================
# SESSION-END POSITION FLATTENER
# ===================================
# Automatically flatten all positions before market close
BOT_SESSION_AUTO_FLATTEN=true
BOT_SESSION_FLATTEN_MINUTES_BEFORE=5  # Minutes before 5:00 PM ET (e.g., 5 = 4:55 PM)
BOT_SESSION_FLATTEN_FRIDAY_ENABLED=true  # Whether to flatten on Fridays (weekend safety)

# ===================================
# AI COMMENTARY & ANALYSIS FEATURES
# ===================================
# Feature 1: Real-Time Commentary
BOT_COMMENTARY_ENABLED=true

# Feature 2: Trade Failure Analysis
BOT_FAILURE_ANALYSIS_ENABLED=true

# Feature 3: Performance Summaries
BOT_DAILY_SUMMARY_ENABLED=true
BOT_WEEKLY_SUMMARY_ENABLED=true
DAILY_SUMMARY_TIME=17:00  # 5:00 PM EST (futures market close)
WEEKLY_SUMMARY_TIME=18:00  # 6:00 PM EST Friday (end of futures week)

# Feature 4: Strategy Explanations
BOT_STRATEGY_EXPLANATION_ENABLED=true

# Feature 5: Market Regime Explanations
BOT_REGIME_EXPLANATION_ENABLED=true

# Feature 6: Learning Progress Reports
BOT_LEARNING_REPORTS_ENABLED=true

# ===================================
# BOT SELF-AWARENESS SYSTEM (PHASE 4)
# ===================================
# Enables comprehensive self-awareness with health monitoring, change detection, and intelligent reporting
BOT_SELF_AWARENESS_ENABLED=true

# Health check interval in minutes (how often to check all components)
BOT_HEALTH_CHECK_INTERVAL_MINUTES=5

# Status report interval in minutes (how often to generate comprehensive status reports)
BOT_STATUS_REPORT_INTERVAL_MINUTES=60

# Dynamic R-Multiple Targeting Configuration (Feature 1)
BOT_DYNAMIC_TARGETS_ENABLED=true
BOT_REGIME_CHECK_INTERVAL_SECONDS=60
BOT_TARGET_ADJUSTMENT_THRESHOLD=0.3
S2_TARGET_TRENDING=2.5
S2_TARGET_RANGING=1.0
S3_TARGET_TRENDING=3.0
S3_TARGET_RANGING=1.2
S6_TARGET_TRENDING=2.0
S6_TARGET_RANGING=1.0
S11_TARGET_TRENDING=2.5
S11_TARGET_RANGING=1.5

# MAE/MFE Optimal Stop Placement Learning Configuration (Feature 2)
BOT_MAE_LEARNING_ENABLED=true
BOT_MAE_MINIMUM_SAMPLES=50
BOT_MAE_ANALYSIS_INTERVAL_MINUTES=5
BOT_MAE_SAFETY_BUFFER_TICKS=2
BOT_MFE_LEARNING_ENABLED=true

# Real-Time Regime Change Exit Detection (Feature 3)
BOT_REGIME_MONITORING_ENABLED=true
BOT_REGIME_FLIP_EXIT_ENABLED=true
BOT_REGIME_CONFIDENCE_DROP_THRESHOLD=0.30
S6_REGIME_FLIP_SENSITIVITY=0.60
S2_REGIME_FLIP_SENSITIVITY=0.50
S3_REGIME_FLIP_SENSITIVITY=0.55
S11_REGIME_FLIP_SENSITIVITY=0.55

# Confidence-Based Stop/Target Adjustment (Feature 4)
BOT_CONFIDENCE_ADJUSTMENT_ENABLED=true
CONFIDENCE_VERY_HIGH_THRESHOLD=0.85
CONFIDENCE_HIGH_THRESHOLD=0.75
CONFIDENCE_MEDIUM_THRESHOLD=0.70
CONFIDENCE_LOW_THRESHOLD=0.65
CONFIDENCE_STOP_MULTIPLIER_VERY_HIGH=1.5
CONFIDENCE_STOP_MULTIPLIER_HIGH=1.3
CONFIDENCE_STOP_MULTIPLIER_MEDIUM=1.1
CONFIDENCE_STOP_MULTIPLIER_LOW=1.0
CONFIDENCE_TARGET_MULTIPLIER_VERY_HIGH=2.0
CONFIDENCE_TARGET_MULTIPLIER_HIGH=1.0
CONFIDENCE_TARGET_MULTIPLIER_MEDIUM=0.8
CONFIDENCE_TARGET_MULTIPLIER_LOW=0.6

# Progressive Time-Decay Stop Tightening (Feature 5)
BOT_PROGRESSIVE_TIGHTENING_ENABLED=true
BOT_PROGRESSIVE_TIGHTENING_CHECK_INTERVAL_SECONDS=60

# ===================================
# AUTONOMOUS TRADING MODE CONFIGURATION
# ===================================
# Full autonomous 24/7 trading capabilities
AUTONOMOUS_MODE=true
AUTO_EXECUTION=false

# Trading time windows
TRADE_DURING_LUNCH=true
TRADE_OVERNIGHT=true
TRADE_PREMARKET=true
MAX_CONTRACTS_PER_TRADE=5

# ===================================
# TOPSTEP COMPLIANCE LIMITS
# ===================================
# TopStep evaluation account compliance settings
ENABLE_TOPSTEP_COMPLIANCE=true
ENABLE_AUTOMATIC_HALTS=true

# Automatic DRY_RUN enforcement on compliance violations (toggle)
ENABLE_AUTO_DRYRUN_ON_COMPLIANCE=true

TOPSTEP_DAILY_LOSS_LIMIT=-2400
TOPSTEP_SAFE_DAILY_LOSS_LIMIT=-1000
TOPSTEP_DRAWDOWN_LIMIT=-2500
TOPSTEP_SAFE_DRAWDOWN_LIMIT=-2000
TOPSTEP_MINIMUM_TRADING_DAYS=5
TOPSTEP_PROFIT_TARGET=3000

# ===================================
# COMPREHENSIVE RISK LIMITS
# ===================================
# Additional risk management controls
DAILY_PROFIT_TARGET=300
MAX_DAILY_LOSS=-1000
MAX_DRAWDOWN=-2000
ENABLE_RISK_MONITORING=true
ENABLE_EMERGENCY_STOP=true

# ===================================
# CONCURRENT LEARNING CONFIGURATION
# ===================================
# Historical learning running alongside live trading
CONCURRENT_LEARNING=1
CONCURRENT_LEARNING_INTERVAL_MINUTES=5
OFFLINE_LEARNING_INTERVAL_MINUTES=5

# Resource prioritization
MAX_CONCURRENT_OPERATIONS=2
LEARNING_PRIORITY=LOW
LIVE_TRADING_PRIORITY=HIGH

# ===================================
# RESOURCE PROTECTION LIMITS
# ===================================
# Memory and CPU limits for autonomous operation
ENABLE_RESOURCE_MONITORING=1
MAX_MEMORY_USAGE_MB=2048

# ===================================
# EMERGENCY CONTROLS & SAFETY
# ===================================
# Additional safety mechanisms - wired into UnifiedOrchestratorService

# ===================================
# ENHANCED BOT ALERTS (DETAILED)
# ===================================
# Additional granular alert settings
BOT_ALERT_STARTUP_HEALTH=true
BOT_ALERT_VIX_SPIKE=true
BOT_ALERT_UPCOMING_EVENTS=true
BOT_ALERT_EVENT_MINUTES_BEFORE=30
BOT_ALERT_ROLLBACK=true
BOT_ALERT_LOW_WIN_RATE=true
BOT_ALERT_DAILY_TARGET=true
BOT_ALERT_FEATURE_DISABLED=true
BOT_ALERT_SYSTEM_HEALTH=true
BOT_ALERT_SYSTEM_HEALTH_INTERVAL_HOURS=1

# ===================================
# SELF-AWARENESS & COMMENTARY SYSTEM
# ===================================
# AI-powered self-awareness and analysis features
SELF_AWARENESS_ENABLED=true

# Snapshot System - Records trading decisions with full context
SNAPSHOT_ENABLED=true
SNAPSHOT_MAX_SIZE=500
SNAPSHOT_EXPORT_ENABLED=false
SNAPSHOT_EXPORT_PATH=artifacts/snapshots/

# Parameter Tracking - Logs parameter changes with before/after values
PARAMETER_TRACKING_ENABLED=true
PARAMETER_MAX_HISTORY=100

# Risk Commentary - AI-generated natural language risk analysis
RISK_COMMENTARY_ENABLED=true
RISK_COMMENTARY_MIN_CONFIDENCE=0.7
RISK_COMMENTARY_ASYNC=true

# Learning Commentary - Explains parameter changes in plain English
LEARNING_COMMENTARY_ENABLED=true
LEARNING_LOOKBACK_MINUTES=60
LEARNING_ALERT_THRESHOLD=0.15
LEARNING_COMMENTARY_ASYNC=true

# Historical Pattern Recognition - Finds similar past market conditions
PATTERN_RECOGNITION_ENABLED=true
SIMILARITY_THRESHOLD=0.85
MIN_HISTORICAL_SAMPLES=50

# ===================================
# SECURITY CREDENTIALS (TEMPLATES)
# ===================================
# These settings provide template values - set actual values via secure environment variables
# IMPORTANT: Do NOT set real credentials here - use environment variables or secure vaults
#
# Email Alert Credentials (set via environment):
# ALERT_EMAIL_USERNAME=your_email@gmail.com
# ALERT_EMAIL_PASSWORD=your_app_password_here
# ALERT_EMAIL_FROM=your_email@gmail.com
# ALERT_EMAIL_TO=your_email@gmail.com
#
# GitHub Token (set via environment):
# GITHUB_TOKEN=your_github_token_here
#
# TopstepX Credentials (set via environment):
# TOPSTEPX_API_KEY=your_api_key_here
# TOPSTEPX_USERNAME=your_username_here
# TOPSTEPX_ACCOUNT_ID=your_account_id_here
# TOPSTEPX_JWT=your_jwt_token_here

# Template values (replace with actual values in environment or .env.local)
ALERT_EMAIL_USERNAME=your_email@gmail.com
ALERT_EMAIL_PASSWORD=your_app_password_here
ALERT_EMAIL_FROM=your_email@gmail.com
ALERT_EMAIL_TO=your_email@gmail.com
GITHUB_TOKEN=your_github_token_here
# TOPSTEPX credentials are defined above - do not duplicate
# TOPSTEPX_API_KEY=your_api_key_here
# TOPSTEPX_USERNAME=your_username_here
# TOPSTEPX_ACCOUNT_ID=your_account_id_here
# TOPSTEPX_JWT=your_jwt_token_here

# ===================================
# LLM INTELLIGENCE SYNTHESIS
# ===================================
# LLM-powered market intelligence integration
# Synthesizes parquet data files with Ollama for enhanced trading decisions
INTELLIGENCE_SYNTHESIS_ENABLED=true
INTELLIGENCE_TWO_TIER_CACHING=true
INTELLIGENCE_SENTIMENT_CACHE_TTL_MINUTES=5
INTELLIGENCE_FULL_CACHE_TTL_MINUTES=15
INTELLIGENCE_SENTIMENT_ASYNC=true
INTELLIGENCE_FULL_ASYNC=true
INTELLIGENCE_FALLBACK_MODE=use_cached
INTELLIGENCE_MAX_CACHE_AGE_MINUTES=30

# ===================================
# ENVIRONMENT MERGE COMPLETE
# ===================================
# This file now contains all settings from:
# - .env (original - 434 lines)
# - .env.example (257 lines)
# - .env.concurrent-learning (27 lines)
# - .env.production-secure (65 lines)
# - .env.production-template (43 lines)
#
# Total unique settings: 315+
# Skipped: ZONES_* settings (zone awareness - 4 settings)
# Changed: ENABLE_AUTO_EXECUTION (false → true)
#
# Ready for fully autonomous 24/7 trading with all safety mechanisms active
